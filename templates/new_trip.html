{% extends "base.html" %}
{% block title %}Start New Trip{% endblock %}
{% block content %}
<div class="mt-4">
  <h1>Start a New Trip</h1>

  {% if prepared %}
    <h3>Prepared Trips</h3>
    <form method="post" class="mb-4">
      <div class="form-row">
        <div class="col">
          <select name="prepared_id" class="form-control" required>
            <option value="" disabled selected>Choose prepared trip…</option>
            {% for p in prepared %}
              <option value="{{ p.id }}">
                {{ p.date }} {{ p.time }} — {{ p.sport }} at {{ p.venue }}
              </option>
            {% endfor %}
          </select>
        </div>
        <div class="col">
          <input type="number" step="0.1" name="odometer_start"
                 class="form-control" placeholder="Odometer start" required>
        </div>
        <div class="col-auto">
          <button type="submit" class="btn btn-success">Start Prepared</button>
        </div>
      </div>
    </form>
    <hr>
  {% endif %}

  <h3>New Trip</h3>
  <form method="post">
    <div class="form-group">
      <label>Date (YYYY-MM-DD):</label>
      <input type="date" class="form-control" name="date" required>
    </div>
    <div class="form-group">
      <label>Time (HH:MM):</label>
      <input type="time" class="form-control" name="time" required>
    </div>
    <div class="form-group">
      <label>Sport:</label>
      <select class="form-control" name="sport" required>
        <option value="Soccer">Soccer</option>
        <option value="Basketball">Basketball</option>
      </select>
    </div>
    <div class="form-group">
      <label>Venue:</label>
      <input type="text" class="form-control" name="venue" required>
    </div>
    <div class="form-group">
      <label>Home Team:</label>
      <input type="text" class="form-control" name="home_team" required>
    </div>
    <div class="form-group">
      <label>Away Team:</label>
      <input type="text" class="form-control" name="away_team" required>
    </div>
    <div class="form-group">
      <label>Starting Odometer Reading:</label>
      <input type="number" step="0.1" class="form-control" name="odometer_start" required>
    </div>
    <button type="submit" class="btn btn-primary">Start Trip</button>
  </form>
</div>
{% endblock %}
