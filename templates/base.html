<!doctype html>
<html lang="en">
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>{% block title %}Mileage Tracker{% endblock %}</title>

  <!-- Favicon -->
  <link rel="icon" href="{{ url_for('static', filename='favicon.ico') }}" type="image/x-icon">

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Font Awesome -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" rel="stylesheet">
  
  <style>
    main {max-width: 1000px; margin: 20px auto; padding: 0 16px;}
    header {background: #f8f9fa; padding: 1rem;}
    header .container {max-width: 1000px; margin: 0 auto; display: flex; justify-content: space-between;}
    header a {color: #2563eb; text-decoration: none; padding: 0.5rem 1rem; border-radius: 6px;}
    header a:hover {background: #e9ecef; color: #1e40af;}
    header a.active {background: #2563eb; color: white;}
    .flash {padding: 10px; margin: 10px 0; border-radius: 6px;}
    .flash.success {background: #ecfdf5; color: #065f46;}
    .flash.warning {background: #fffbeb; color: #92400e;}
    .flash.danger {background: #fef2f2; color: #991b1b;}
    .btn {background: #2563eb; color: white !important; padding: 8px 16px; border-radius: 6px; text-decoration: none; margin: 4px;}
    .btn:hover {background: #1e40af;}
    .menu-grid {display: flex; gap: 16px; flex-wrap: wrap; margin-top: 20px; justify-content: center;}
    .menu-grid .btn {font-size: 1.1rem; padding: 1rem 2rem; min-width: 200px; text-align: center;}
    /* Mobile improvements */
    .action-buttons {display: flex; gap: 0.5rem; align-items: center;}
    @media (max-width: 576px) {
      main {padding: 0 8px;}
      header .container {flex-wrap: wrap; gap: 8px;}
      nav a {padding: 0.25rem 0.5rem; font-size: 0.95rem;}
      .menu-grid .btn {min-width: auto; width: 100%;}
      .table thead th {font-size: 0.9rem;}
      .table td, .table th {font-size: 0.95rem;}
      .action-buttons {flex-direction: row; flex-wrap: wrap;}
      .action-buttons .btn {flex: 0 1 auto; margin: 0.2rem 0.2rem;}
    }
  </style>
</head>
<body>
  <header>
    <div class="container">
      <nav>
        <a href="{{ url_for('dashboard') }}" class="{{ 'active' if request.endpoint == 'dashboard' }}">
          <i class="fas fa-home"></i> Dashboard
        </a>
        <a href="{{ url_for('work.list') }}" class="{{ 'active' if request.endpoint.startswith('work.') }}">
          <i class="fas fa-briefcase"></i> Work
        </a>
        <a href="{{ url_for('home') }}" class="{{ 'active' if request.endpoint == 'home' }}">
          <img src="{{ url_for('static', filename='whistle.png') }}" alt="Whistle" style="height: 16px; width: auto; vertical-align: middle; margin-right: 6px;">
          Officiating
        </a>
      </nav>
      <div>
        <a href="{{ url_for('logout') }}">
          <i class="fas fa-sign-out-alt"></i> Logout
        </a>
      </div>
    </div>
  </header>

  <main class="container">
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, msg in messages %}
          <div class="flash {{ category }}">{{ msg }}</div>
        {% endfor %}
      {% endif %}
    {% endwith %}

    {% block content %}{% endblock %}
  </main>
</body>
</html>
